(()=>{"use strict";var e={77828:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DateHelper=void 0;var n=function(){function e(){}return Object.defineProperty(e,"msOneSecond",{get:function(){return 1e3},enumerable:!1,configurable:!0}),Object.defineProperty(e,"msOneMinute",{get:function(){return 60*e.msOneSecond},enumerable:!1,configurable:!0}),Object.defineProperty(e,"msOneHour",{get:function(){return 60*e.msOneMinute},enumerable:!1,configurable:!0}),e.MONTHS_IN_YEAR=12,e}();t.DateHelper=n},97453:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Dom_onDocumentReady=void 0,t.Dom_onDocumentReady=function(e,t){void 0===t&&(t=!1),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):t&&e(void 0)}},42744:function(e,t,n){var _=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.String_formatPrice=void 0;var i=_(n(79922));t.String_formatPrice=function(e,t){void 0===t&&(t=!1);var n=e<0?"-":"",_=parseFloat(Math.abs(e)+"")+"",r=String(Math.floor(Math.abs(e))),a=r.length>3?r.length%3:0,o="";return o+=0!==a?_.substr(0,a)+" ":"",o+=_.substr(a).replace(/(\d{3})(?=\d)/g,"$1 "),t&&(o+=" "+i.default.sign),n+o}},22065:function(e,t,n){var _=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(97453),r=_(n(38777)),a=n(73610),o=_(n(80435));window.creditCalculator=function(e){return new r.default(e)};var s=function(){[].slice.call(document.querySelectorAll("[data-role=credit-calculator-open-link]")).forEach((function(e){e.hasAttribute("data-calc-inited")||(e.setAttribute("data-calc-inited",""),e.addEventListener("click",(function(t){t.preventDefault(),new o.default(JSON.parse(e.getAttribute("data-credit-config"))).show()})))}))};(0,i.Dom_onDocumentReady)(s,!0),window.addEventListener(a.CreditCalculatorEvents.INIT,s)},76336:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t["__мес"]=t["__Срок"]=t["__Первый_взнос"]=t["__Ежемесячный_платеж"]=t["__Максимальная_сумма_первоначального_взноса"]=t["__Узнать_кредитный_лимит"]=void 0,t["__Узнать_кредитный_лимит"]="Узнать кредитный лимит",t["__Максимальная_сумма_первоначального_взноса"]="Максимальная сумма первоначального взноса",t["__Ежемесячный_платеж"]="Ежемесячный платеж",t["__Первый_взнос"]="Первый взнос",t["__Срок"]="Срок",t["__мес"]="мес"},73610:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreditCalculatorEvents=void 0,function(e){e.INIT="creditCalc:init"}(t.CreditCalculatorEvents||(t.CreditCalculatorEvents={}))},80435:function(e,t,n){var _=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(39837),r=n(42744),a=n(49595),o=_(n(73278)),s=_(n(38777)),d=function(){function e(e){this._config=e}return e.prototype.show=function(){var e=window.modalProvider.getInstance({id:"credit-calc",headerHtml:"",bottomSheet:!0,contentPadded:!0,size:a.BaseModalSizesEnum.W_400,removeOnHidden:!0});e.setHeader(this._config.modalHeader),this._initModalContent(e),e.show()},e.prototype._initModalContent=function(e){var t=this,n=this._config,_=e.getContent();_.innerHTML="";var i=this._tag("__total");i.innerHTML="Стоимость товаров:";var a=this._tag("__total-value","span");a.innerHTML=(0,r.String_formatPrice)(n.price,!0),i.appendChild(a),_.appendChild(i);var d=this._tag("__credit");d.innerHTML=n.isInstallment?"В рассрочку":"В кредит";var u=this._tag("__credit-value","span");if(u.innerHTML=this._creditText(),d.appendChild(u),_.appendChild(d),n.isInstallment||_.appendChild(this._collapse("Кредитный калькулятор",new s.default(n.price).element)),(new o.default).get(n.isInstallment).forEach((function(e){_.appendChild(t._collapse(e.title,e.ordered?t._points(e.points):e.points.map((function(e){return"<p>"+e+"</p>"})).join("")))})),0!==n.banksImages.length){var l=this._tag("__banks");n.banksImages.forEach((function(e){var n=t._tag("__bank-image","img");n.setAttribute("data-src",e),l.appendChild(n)})),_.appendChild(l)}if(n.banksUrl){var c=window.links.createLinkBlue("Все банки и их условия",n.banksUrl);c.classList.add(this._class("__banks-link")),_.appendChild(c),window.dispatchLazyLoadUpdateEvent()}},e.prototype._creditText=function(e){return[this._config.isInstallment?"":"от",(0,r.String_formatPrice)(Math.round(this._config.monthPayment),!0)+"/","мес."].join(" ")},e.prototype._collapse=function(e,t){var n=this,_="__collapse",r=this._tag("__collapse-title");r.innerHTML=e,r.appendChild(this._tag("__collapse-icon")),r.addEventListener("click",(function(){(0,i.domToggleClass)(r,n._class("__collapse-title_in"))}));var a=this._tag("__collapse-content");"string"==typeof t?a.innerHTML=t:a.appendChild(t);var o=this._tag(_);return o.appendChild(r),o.appendChild(a),o},e.prototype._points=function(e){var t=this,n=[];e.forEach((function(e,_){var i=t._tag("__point");i.innerText=(_+1).toString(10),n.push("<div>"+i.outerHTML+"</div>"),n.push("<div>"+e+"</div>")}));var _=this._tag("__points");return _.innerHTML=n.join(""),_},e.prototype._tag=function(e,t){void 0===t&&(t="div");var n=document.createElement(t);return e&&n.classList.add(this._class(e)),n},e.prototype._class=function(e){return"credit-calculator-modal"+e},e}();t.default=d},38777:function(e,t,n){var _=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=_(n(79922)),r=n(39837),a=n(77828),o=n(42744),s=n(76336),d=function(){function e(e){this._price=e,this._init()}return Object.defineProperty(e.prototype,"price",{set:function(e){this._price=e,this._updatePayment(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),e.prototype.getMonthPayment=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this._config.period.default);var n=this._config.anniversaryRate/a.DateHelper.MONTHS_IN_YEAR;return(this._price-e)*n/(1-1/Math.pow(1+n,t))},Object.defineProperty(e.prototype,"_config",{get:function(){return window.creditCalculatorConfig},enumerable:!1,configurable:!0}),e.prototype._init=function(){var e=this;this._element=this._tag();var t=this._tag("__controls");t.innerHTML="<div>"+s.__Первый_взнос+", "+i.default.short+".</div><div>"+s.__Срок+", "+s.__мес+".</div>",this._element.appendChild(t),this._firstPaymentInput=window.inputSmall.draw(t,{});for(var n=[],_=this._config.period.min;_<=this._config.period.max;_+=this._config.period.step){var r=document.createElement("option");r.value=""+_,r.text=""+_,r.selected=_===this._config.period.default,n.push(r)}this._periodInput=window.inputSelect.create(n),this._periodInput.classList.add(this._class("__period")),t.appendChild(this._periodInput),this._element.appendChild(t),this._maxFirstPaymentMessage=this._tag("__max-first-payment");var a=this._tag("__max-first-payment-close");if(a.addEventListener("click",(function(){e._toggleMaxFirstPayment(!1)})),this._maxFirstPaymentMessage.appendChild(a),this._element.appendChild(this._maxFirstPaymentMessage),this._monthPaymentElement=this._tag("__month-payment"),this._element.appendChild(this._monthPaymentElement),this._price>=this._config.homeCreditMinAmount){var o=window.links.createLinkBlue(s.__Узнать_кредитный_лимит,this._config.creditLimitUrl);o.classList.add(this._class("__limit")),this._element.appendChild(o)}this._addEvents(),this._updatePayment()},e.prototype._addEvents=function(){var e=this;["keyup","click","change"].forEach((function(t){e._firstPaymentInput.input.addEventListener(t,e._firstPaymentHandler.bind(e))})),this._periodInput.addEventListener("change",this._updatePayment.bind(this))},e.prototype._toggleMaxFirstPayment=function(e){(0,r.domToggleClass)(this._maxFirstPaymentMessage,this._class("__max-first-payment_show"),e)},e.prototype._firstPaymentHandler=function(){return this._toggleMaxFirstPayment(!1),!0===this._maxFirstPaymentReached()?(this._toggleMaxFirstPayment(!0),this._firstPaymentInput.value=""+this._maxFirstPayment,this._updatePayment(),!1):(0>=this._firstPayment&&(this._firstPaymentInput.value=""),this._updatePayment(),!0)},e.prototype._updatePayment=function(e){void 0===e&&(e=!1),this._maxFirstPayment=Math.round(this._price*this._config.maxFirstPaymentPercent),this._maxFirstPaymentMessage.innerHTML=s.__Максимальная_сумма_первоначального_взноса+' <span class="'+this._class("__max-first-payment-value")+'">'+(0,o.String_formatPrice)(this._maxFirstPayment,!0)+"</span>",this._firstPaymentInput.input.max=""+this._maxFirstPayment;var t=this.getMonthPayment(this._firstPayment,this._creditPeriod);this._monthPaymentElement.innerHTML=s.__Ежемесячный_платеж+": "+(0,o.String_formatPrice)(Math.round(t),!0),e&&this._firstPaymentHandler()},Object.defineProperty(e.prototype,"_firstPayment",{get:function(){var e=parseFloat(this._firstPaymentInput.value);return isNaN(e)||!1===isFinite(+this._firstPaymentInput.value)?0:Math.min(e,this._price)},enumerable:!1,configurable:!0}),e.prototype._maxFirstPaymentReached=function(){return this._firstPayment>=this._maxFirstPayment},Object.defineProperty(e.prototype,"_creditPeriod",{get:function(){return parseFloat(this._periodInput.value)||this._config.period.default},enumerable:!1,configurable:!0}),e.prototype._tag=function(e,t){void 0===e&&(e=""),void 0===t&&(t="div");var n=document.createElement(t);return n.classList.add(this._class(e)),n},e.prototype._class=function(e){return"credit-calculator"+e},e}();t.default=d},73278:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var _=n(14890),i=function(){function e(){}return e.prototype.get=function(e){return[{title:e?_.__Как_оформить_рассрочку_в_магазине:_.__Как_оформить_кредит_в_магазине,points:[_.__Оформление_в_магазине_1,_.__Оформление_в_магазине_2,_.__Оформление_в_магазине_3,_.__Оформление_в_магазине_4],ordered:!0},{title:e?_.__Как_оформить_рассрочку_онлайн:_.__Как_оформить_кредит_онлайн,points:[_.__Оформление_онлайн_1,_.__Оформление_онлайн_2,_.__Оформление_онлайн_3],ordered:!0},{title:_.__Условия_кредитования,points:[_.__Условия_1,_.__Условия_2],ordered:!1}]},e}();t.default=i},14890:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t["__Условия_2"]=t["__Условия_1"]=t["__Условия_кредитования"]=t["__Оформление_онлайн_3"]=t["__Оформление_онлайн_2"]=t["__Оформление_онлайн_1"]=t["__Оформление_в_магазине_4"]=t["__Оформление_в_магазине_3"]=t["__Оформление_в_магазине_2"]=t["__Оформление_в_магазине_1"]=t["__Как_оформить_кредит_онлайн"]=t["__Как_оформить_рассрочку_онлайн"]=t["__Как_оформить_кредит_в_магазине"]=t["__Как_оформить_рассрочку_в_магазине"]=void 0,t["__Как_оформить_рассрочку_в_магазине"]="Как оформить рассрочку в магазине",t["__Как_оформить_кредит_в_магазине"]="Как оформить кредит в магазине",t["__Как_оформить_рассрочку_онлайн"]="Как оформить рассрочку онлайн",t["__Как_оформить_кредит_онлайн"]="Как оформить кредит онлайн",t["__Оформление_в_магазине_1"]="Приходите в удобный магазин. Обязательно возьмите паспорт.",t["__Оформление_в_магазине_2"]="Выберите товар.",t["__Оформление_в_магазине_3"]="Обратитесь к представителю банка в магазине. Вас проконсультируют по условиям предоставления кредита.",t["__Оформление_в_магазине_4"]="Если условия кредита вас устраивают, заключите договор с банком и вернитесь домой с покупкой!",t["__Оформление_онлайн_1"]="Добавьте товары в корзину.",t["__Оформление_онлайн_2"]='На этапе оформления заказа выберите способ оплаты "онлайн-кредит" и подходящий банк.',t["__Оформление_онлайн_3"]="После подтверждения заказа вас перенаправит на сайт банка для заполнения анкеты. После одобрения следуйте инструкциям банка.",t["__Условия_кредитования"]="Условия кредитования",t["__Условия_1"]="Условия кредитования банки устанавливают в индивидуальном порядке.",t["__Условия_2"]="Подробную информацию можно получить на горячей линии выбранной кредитной организации."},49595:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseModalSizesEnum=void 0,function(e){e.XS="xs",e.SM="sm",e.MD="md",e.LG="lg",e.W_400="w_400",e.W_1200="w_1200"}(t.BaseModalSizesEnum||(t.BaseModalSizesEnum={}))},2110:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LOCAL_STORAGE_BEST_PRICE_LINKS=t.LOCAL_STORAGE_IDB_PRODUCT_IDS=t.LOCAL_STORAGE_ORDER_PRODUCTS=t.LOCAL_STORAGE_CURRENCY_NAME=t.SESSION_STORAGE_GIFT_CARD_DATA=t.SESSION_STORAGE_CHECKOUT_PRESET_SHOP_ID=void 0,t.SESSION_STORAGE_CHECKOUT_PRESET_SHOP_ID="SESSION_STORAGE_CHECKOUT_PRESET_SHOP_ID",t.SESSION_STORAGE_GIFT_CARD_DATA="SESSION_STORAGE_GIFT_CARD_DATA",t.LOCAL_STORAGE_CURRENCY_NAME="LOCAL_STORAGE_CURRENCY_NAME",t.LOCAL_STORAGE_ORDER_PRODUCTS="order-products",t.LOCAL_STORAGE_IDB_PRODUCT_IDS="idb-order-products",t.LOCAL_STORAGE_BEST_PRICE_LINKS="best-price-links"},79922:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var _=n(2110),i=n(73363),r=new Map;r.set(i.CurrencyEnum.RUBLE,{sign:"₽",short:"руб",symbol:"р",postfix:["рубль","рубля","рублей"]}),r.set(i.CurrencyEnum.TENGE,{sign:"₸",short:"тңг",symbol:"т",postfix:["теңге","теңге","теңге"]});var a=function(){if("undefined"==typeof window)return{sign:"",short:"",symbol:"",postfix:[]};if(!window.currencyValue){var e=document.querySelector('meta[name="currency"]');null!==e&&(window.currencyValue=e.content),window.currencyValue=window.currencyValue||i.CurrencyEnum.RUBLE,window.localStorage.setItem(_.LOCAL_STORAGE_CURRENCY_NAME,window.currencyValue)}return r.get(window.currencyValue)},o=function(){function e(){}return Object.defineProperty(e,"sign",{get:function(){return a().sign},enumerable:!1,configurable:!0}),Object.defineProperty(e,"symbol",{get:function(){return a().symbol},enumerable:!1,configurable:!0}),Object.defineProperty(e,"short",{get:function(){return a().short},enumerable:!1,configurable:!0}),Object.defineProperty(e,"postfix",{get:function(){return a().postfix},enumerable:!1,configurable:!0}),e}();t.default=o},73363:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CurrencyEnum=void 0,function(e){e.RUBLE="ruble",e.TENGE="tenge"}(t.CurrencyEnum||(t.CurrencyEnum={}))},39837:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.domToggleClass=void 0,t.domToggleClass=function(e,t,n){void 0===n&&(n=!e.classList.contains(t)),!0===n?e.classList.add(t):e.classList.remove(t)}}},t={};(function n(_){var i=t[_];if(void 0!==i)return i.exports;var r=t[_]={exports:{}};return e[_].call(r.exports,r,r.exports,n),r.exports})(22065)})();